{% load cache static css_inline %}

{% with theme=request.session.theme %}
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Snoweb{% endblock %}</title>
        <meta name="description"
              content="{% block description %}Choose and embed web-optimized SVGs in your HTML or with Django.{% endblock %}">
        <meta content="Snoweb" name="author">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" sizes="16x16"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-16x16.format-png.png">
        <link rel="icon" type="image/png" sizes="32x32"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-32x32.format-png.png">
        <link rel="icon" type="image/png" sizes="128x128"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-128x128.format-png.png">
        <link rel="icon" type="image/png" sizes="167x167"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-167x167.format-png.png">
        <link rel="icon" type="image/png" sizes="180x180"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-180x180.format-png.png">
        <link rel="apple-touch-icon"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-180x180.format-png.png">
        <link rel="icon" type="image/png" sizes="192x192"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-192x192.format-png.png">
        <link rel="icon" type="image/png" sizes="196x196"
              href="https://media.snoweb.fr/www/images/favicon_4vyLMhX.2e16d0ba.fill-196x196.format-png.png">
        <link rel="canonical" href="https://{{ request.get_host }}{{ request.path }}"/>
        {% block css %}
            {% css_inline %}
                {% with water_css="https://cdn.jsdelivr.net/npm/water.css@2/out/" %}
                    <link rel="stylesheet" href="{{ water_css }}{% if theme %}{{ theme }}{% else %}dark{% endif %}{% if not debug %}.min{% endif %}.css">
                {% endwith %}
                {% with href="snowebsvg/dist/css/themes-"|add:settings.VERSION|add:".css" %}
                    <link rel="stylesheet" href="{% static href %}">
                {% endwith %}
                {% with href="snowebsvg/dist/css/sizer-"|add:settings.VERSION|add:".css" %}
                    <link rel="stylesheet" href="{% static href %}">
                {% endwith %}
                {% with href="snowebsvg/dist/css/essential-"|add:settings.VERSION|add:".css" %}
                    <link rel="stylesheet" href="{% static href %}">
                {% endwith %}
                {% with href="snowebsvg/dist/css/effect-"|add:settings.VERSION|add:".css" %}
                    <link rel="stylesheet" href="{% static href %}">
                {% endwith %}
            {% end_css_inline %}
            <style>
                :root {
                {% if theme == 'light' %}
                    --background-body: #fff;
                    --background: #efefef;
                    --background-alt: #f7f7f7;
                    --selection: #E63946;
                    --text-main: #363636;
                    --text-bright: #14253A;
                    --text-muted: #70777f;
                    --links: #E63946;
                    --focus: #E63946;
                    --border: #dbdbdb;
                    --code: #14253A;
                    --animation-duration: 0.1s;
                    --button-hover: #ddd;
                    --scrollbar-thumb: rgb(213, 213, 213);
                    --scrollbar-thumb-hover: rgb(196, 196, 196);
                    --form-placeholder: #949494;
                    --form-text: #000;
                    --variable: #E63946;
                    --highlight: #E63946;
                {% else %}
                    --background-body: #14253A;
                    --background: #112032;
                    --background-alt: #112032;
                    --selection: #E63946;
                    --text-main: #dbdbdb;
                    --text-bright: #fff;
                    --text-muted: #a9b1ba;
                    --links: #E63946;
                    --focus: #E63946;
                    --border: #526980;
                    --code: #E63946;
                    --animation-duration: 0.1s;
                    --button-hover: #324759;
                    --scrollbar-thumb: var(--button-hover);
                    --scrollbar-thumb-hover: rgb(65, 92, 115);
                    --form-placeholder: #a9a9a9;
                    --form-text: #fff;
                    --variable: #E63946;
                    --highlight: #E63946;
                {% endif %}

                    --svg-theme-light-primary: #14253A;
                    --svg-theme-light-secondary: #E63946;
                    --svg-theme-light-tertiary: #f7f7f7;

                    --svg-theme-dark-primary: #F7F7F7;
                    --svg-theme-dark-secondary: #E63946;
                    --svg-theme-dark-tertiary: #112032;
                }
            </style>
        {% endblock %}
    </head>
    <body>

    <a href="/">
        {% if theme == 'light' %}
            <img style="width: 200px" src="https://static.snoweb.fr/documents/logo-secondary.svg" alt="Logo Snoweb">
        {% else %}
            <img style="width: 200px" src="https://media.snoweb.fr/www/documents/logo-primary2.svg" alt="Logo Snoweb">
        {% endif %}
    </a>
    <hr/>

    <form method="GET" style="display: flex">
        <input type="submit" name="theme" value="dark">
        <input type="submit" name="theme" value="light">
        <a href="{% url 'app:svg_search' %}">
            <button type="button">search</button>
        </a>
    </form>

    {% cache_page request %}{% block body %}{% endblock %}{% endcache_page %}

    <hr/>

    <p>Related links :</p>
    <ul>
        <li><a href="https://snoweb-svg.readthedocs.io/en/latest/?badge=latest">Documentation</a></li>
        <li><a href="https://github.com/Aleksi44/snoweb-svg">Github</a></li>
        <li><a href="https://pypi.org/project/snowebsvg/">PyPI</a></li>
    </ul>

    <small>Made with ‚ù§ | <a href="https://www.snoweb.fr/">Snoweb</a></small>

    </body>
    </html>
{% endwith %}